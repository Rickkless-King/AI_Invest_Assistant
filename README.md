# AI_Invest_Assistant
AI investment assistant based on large language models
============================================================================
郑重声明如下内容，请严格遵守以下内容：
本项目集成了 Finnhub、Alpha Vantage、Twelve Data和EODHD等第三方数据 API。

这些服务的免费套餐通常仅限于“个人”和“非商业”用途。

用户有责任阅读并遵守其所使用的 API 服务的全部服务条款。

如果用户需要将此工具用于商业目的，他们必须自行向数据提供商购买相应的“商业许可” API 密钥。

本项目（及作者）对用户因滥用 API 密钥而导致的任何后果（如账户被封）概不负责。
============================================================================

### v2.3版本
### 理解Tool和Agent——tools_and_agents.py
之前我们已经学习了Langchain1的LCEL语法，核心是把普通函数通过装饰器@chain或者RunnableLambda改写为Runnable。以便使用|快速传递数据。学习了.invoke/.batch/.stream方法存入{字典}、[{"symbol":x} for x in ]列表推导式。学习了RunnableParallel()方法，变量=get_xx函数，最终传出为{"变量":{get_xx函数返回的结果字典}}，但是到目前为止，我们只是通过Langchain获取了金融数据源，然后送进了LLM里面，本质上和我们将所有字符串传入data变量→data变量送进messages→.invoke(messages)没有太大的差别，接下来我们学习Langchain中的@chain，以及Agent概念。
这次修改的内容比较多，我们按照因果逻辑来说：首先是之前Claude提供给我的AgentExecutor、create_tool_calling_agent显示已经被Langchain弃用，因此需要from langgraph.prebuilt import create_react_agent，这个时候我们就需要pip install langgraph，但是我在VScode中pip install langgraph时，安装langgraph时，它依赖langchain-core>=0.1，并且自动将langchain-core升级到了1.0.4（因为这是当前满足条件的最新版本）。但是之前已安装的langchain 0.3.27明确要求langchain-core<1.0.0（即不支持 1.0.0 及以上版本）。同时，langchain-openai 0.3.35也要求langchain-core<1.0.0，同样与升级后的langchain-core 1.0.4不兼容。因此，pip的依赖解析器无法同时满足langgraph对langchain-core的高版本要求和langchain/langchain-openai对langchain-core的低版本限制，导致了 “dependency conflicts”（依赖冲突）错误。所以我们选择pip install --upgrade langchain langchain-openai，升级langchain和langchain-openai到支持langchain-core 1.0.0+的版本。接着pip freeze > requirements.txt将requirements.txt进行了更新，更新之后就发现fundamental_anlyst.py文件中的from langchain.schema import HumanMessage, FunctionMessage无法解析导入，于是我们将修改为from langchain_core.messages import HumanMessage,FunctionMessage。但是我们tools_and_agents.py文件里from langgraph.prebuilt import create_react_agent报错说函数create_react_agent已经被弃用，于是我们将其修改为from langgraph.prebuilt import create_tool_calling_agent。修改到这里还是要确认一下，究竟应该使用哪一个？怎么使用？
    本次未完整更新v2.3版本，后续将继续更新v2.3版本


### v2.2版本
#### 根据LCEL语法实现多股票并行分析——usingRunnable_multiStock_Analysis.py
首先还是理解.batch([字典1,字典2,...])相较于.invoke({字典1})的方式能够快很多，学到了.batch([{"symbol":x} for x in X])或者.batch(["symbol":symbol])的方法，思路上还是将普通函数变成Runnable，传入字典，然后x[key]的方式获取对应的symbol值。
实践了异步函数async def的定义，包括异步流式输出，但是目前没用上。相较于之前使用变量=get_xxx的方式，即把之前get_xxx函数的返回值仅仅用一个简单的变量装，实践了如何return{}返回，并且学习了**inputs写法，让自己节省了点时间。我之前是通过两个函数分别来获取股票介绍+股票数据，这次尝试合二为一。接着使用列表推导式[{"symbol":x} for x in peers]来获取构建所有股票的列表字典。接着还是使用空字符串+循环+  空字符串+="XXXXX" 的方式获取全部股票的信息。


### V2.1版本
#### 正式开始使用Langchain——将数据获取函数整合到链中
##### 汇总一下目前的学习成果：usingRunnable_rewrite_get_function.py
使用了Runnable改写了之前fundamental_analyst中的get_xx函数。理解了最开始的x来自于.invoke({key：value}),可以使用RunnableLambda快速创建Runnable，但缺点是加try except不好写，因此复杂逻辑还是推荐@chain。使用RunnableParallel将Runnable一次性全部传入，因为Runnable传出的是字典，因此采用yy=XXX_function,注意这里不需要传入参数，这样就会输出一个{yy:{XXX_function返回结果}}的字典，再使用一个@chain通过x["yy"]方式获取XXX_function返回结果，并return{"key":.get("")}。
注意，在prompt中，.from_template("""{名称}""")这里名称不需要加“名称”。

### V2.0版本
#### 正式开始使用Langchain——prompt | llm | parser
之前我们1.x版本做的事情简单来说就是用f-string的方法将messages中的content替换为宏观经济+微观个股数据。跟我们直接在网页版对话栏中输入宏观经济+微观个股数据没什么特别的差别。从2.0版本开始，开始更多使用Langchain+LangGraph相关内容。
##### 理解Langchain的LCEL，替代字符串拼接的方式
  2025年10月30日，汇总一下2天的学习成果：
  ChatPromptTemplate类：由于OpenAI这类大模型调用API时明确要求带有角色(比如user、system这些词语)，ChatPromptTemplate用于构建聊天格式的提示词模板，支持system、user、assistant等角色。
  StrOutputParser：输出解析器，将LLM的原始输出解析为字符串格式，方便后续处理。
  提示词|大模型|StrOUtputParser(字符串格式输出)：通过“|”串联不同组件，构建完整链Chain流程为：prompt格式化输入→llm执行推理→StrOUtputParser解析输出为字符串，这样可以不用再写glue code。注意StrOUtputParser之后已经是字符串类型，而非包含content属性的对象。
  之前在prompt或者说在messages中通过f-string传入symbol值，但LCEL通过提示词模板（Prompt Template）实现了变量的声明式定义与运行时自动注入，之前使用messages时，是通过列表里面装字典，角色作为key，prompt作为字典的值来实现的，因此用的是冒号。但是在ChatPromptTemplate.from_messages中是元组里面装列表，列表的元素为元组，元组的元素为字符串，通过逗号隔开。
  RunnablePassthrough：用于在链的不同步骤间传递原始输入或中间结果(类似管道作用，不修改数据，仅负责传递)。
  "字典1键":lambda x:x["字典键"]：x为RunnablePassthrough中获取的输入，提取"字典键"的value值并将其作为“字典1键”的value值。
  通过“|”将上一步的输出传入到字典2中，其中prompt里面写的{键}获取的是键对应的value值。然后将大模型输出的连同宏观分析的个股分析结果传入字典2key对应的value值中，最后使用print“[字典2]”方式将结果打印出来。
  还有一种思路，整个函数定义的时候，直接将symbol、已经获取好的宏微观数据financial_data作为参数传入函数定义中，这样写results的时候直接“symbol”：symbol，“financial_data”：financial_data即可。简单来说就是一个放在函数体内，一个放在函数体外。
  

### V1.5版本
#### 增加多支股票分析-2025年10月28日更新
通过我们之前的努力已经能够实现获取金融数据的稳健性，但是我们知道不能光看见一颗树木而忽视一篇森林。就像整个AI行业，从上游到下游依次可以分为芯片设计→芯片制造→云服务器厂商→大模型提供商→大模型开发工具(Langchain/n8n/Dify)→下游AI应用(C端/B端)。我们通过微笑曲线知道，不同环节能够获取的收益是不同，因此，我们准备投资某个行业的时候，最好能够把该行业内的相关公司都弄清楚。但是从基本面角度，纯人工收集数据再进行分析往往耗时耗力，但是现在我们可以把输入直接输入到大模型中，让大模型来替我们实现这一功能。
思路：首先还是定义一个函数获取用户的输入symbol，然后调用Finnhub的company_peer获取同行业其他上市公司，之前我们是通过在定义函数里直接将data传入messages中的方式。我们先all_data=[]→for symbol in symbols:→profile、quote、financials→all_data.append({"":})→comparison_text=f-string(当下宏观环境XXXXX，请对比以下同行业公司的各支股票)→for data in all_data:→comparison_text+=f-string(获取value值)→comparison_text+=f-string(请从当下的宏观经济环境及未来变化趋势、估值水平、风险水平，XXXXX)→messages里面content装comparison_text

   给大家展示一下分析的效果：
   作为一位兼顾**宏观经济周期分析与微观个股研究的顶级对冲基金经理**，我将从你提供的详尽数据出发，进行一场由宏观到微观、由产业逻辑到估值判断、再到投资策略的系统性推演。

---

## 一、宏观经济环境判断：当前处于“高利率尾声 + 经济软着陆”阶段

### 1. **货币政策环境：紧缩已见顶，转向宽松只是时间问题**

#### 关键宏观指标解析：

| 指标 | 当前值 | 分析 |
|------|--------|------|
| **联邦基金利率** | 4.00%-4.25% | 处于限制性高位，但自2023年加息周期结束以来已维持近一年未变。 |
| **CPI同比** | 3.01% | 高于美联储2%目标，但仍较2022年峰值显著回落。 |
| **核心PCE（美联储最关注）** | 2.91% | 趋近3%，通胀粘性仍存，但下行趋势明确。 |
| **失业率** | 4.0% | 健康水平，远低于自然失业率（约5%），劳动力市场稳健。 |
| **非农就业新增** | +159.5万（累计8月） | 年化增速约20万/月，略高于中性水平，但无过热迹象。 |
| **平均时薪同比增长** | 3.69% | 工资通胀压力温和，未形成螺旋式上涨。 |
| **实际GDP同比增长** | 1.25% | 增速放缓，但正增长；名义GDP达4.59%，反映价格因素贡献大。 |

> ✅ **结论：美国经济正处于“高利率压制下的软着陆”状态**  
> - 通胀虽未完全达标，但趋势可控；
> - 就业强劲支撑消费韧性；
> - 实际增长偏弱，企业盈利承压；
> - **美联储已进入“观望期”，下一步动作更可能是降息而非继续加息。**

#### ✅ 对未来货币政策的预判：
- **短期（未来3个月内）：维持利率不变，缩表继续但节奏放缓。**
- **中期（3–6个月）：若Q4 CPI持续回落至2.5%以下，可能开启首次降息（预计25bps）。**
- **长期（6–12个月后）：有望进入降息通道，全年或降息75–100bps。**

👉 因此，**当前是“紧缩末期 + 宽松预期升温”的转折点**，对成长股和科技股构成重大利好。

---

## 二、产业链关系梳理：半导体行业的上下游格局

我们所讨论的公司均属于**半导体及硬件技术行业**，但细分领域不同，存在明显的**垂直分工与客户-供应商关系**。

### 📊 半导体产业链图谱（简化版）

```
设计 → 制造 → 封装测试 → 模组/系统集成 → 终端应用
       ↑             ↑
   台积电等代工    TI/ADI/MPS等模拟芯片
       ↓             ↓
   NVIDIA/AMD/Broadcom/Marvell 等SoC/ASIC设计商
       ↓
   数据中心 / AI服务器 / 手机 / 汽车 / 工业设备
```

### 各公司定位与产业链角色：

| 公司 | 核心业务 | 上游供应商 | 下游客户 | 备注 |
|------|----------|------------|-----------|------|
| **NVIDIA (NVDA)** | GPU、AI加速器、Hopper/Ampere架构 | 台积电（制造）、三星（HBM内存） | Meta、Google、Microsoft、AWS、云服务商、OEM厂商 | AI算力霸主，客户为大型数据中心 |
| **Advanced Micro Devices (AMD)** | CPU、GPU、FPGA（赛灵思） | 台积电、格罗方德 | 同上，部分替代Intel | 在AI训练推理 中追赶NVDA |
| **Broadcom (AVGO)** | ASIC、网络芯片、Wi-Fi/BT、光纤通信 | 台积电 | 思科、苹果、华为、数据中心交换机厂商 | 苹果TDDI 芯片主要供应商，AI以太网方案提供商 |
| **Marvell Technology (MRVL)** | 存储控制器、车载通信、定制ASIC | 台积电 | AWS、NetApp、汽车Tier1 | 积极布局AI互联芯 片 |
| **Qualcomm (QCOM)** | 手机SoC、基带芯片、物联网平台 | 台积电、三星 | 小米、OPPO、三星、汽车厂商 | 智能手机主导者，向汽车扩展 |
| **Intel (INTC)** | x86 CPU、IDM模式（自有晶圆厂）、代工服务 | 自主制造+台积电外包 | PC OEM、数据中心、政府项目 | 转 型阵痛期，押注先进封装与代工 |
| **Micron Technology (MU)** | DRAM、NAND闪存 | 自有工厂 | NVIDIA、AMD、服务器厂商、PC品牌 | HBM3E关键供应商，直接受益于AI内存需求爆发 |
| **Texas Instruments (TXN)** | 模拟芯片、电源管理IC | 自有工厂 | 工业、汽车、消费电子制造商 | 工业自动化基石型企业 |
| **Analog Devices (ADI)** | 高性能模拟芯片、传感器信号处理 | 自有工厂 | 医疗、工业、汽车客户 | 与Maxim合并后强化高端 市场 |
| **Monolithic Power Systems (MPWR)** | 高效电源管理芯片（DC-DC） | 中芯国际等代工 | 数据中心、电动车、光伏逆变器 | 成长迅猛的利基龙头 |

### 🔗 关键客户-供应商链条举例：

- **NVIDIA 的 AI GPU 需要：**
  - **Micron** 提供 HBM 内存颗粒
  - **Broadcom** 提供配套的网络交换芯片（如Tomahawk）
  - **Marvell** 提供存储控制与连接芯片
  - **TI / ADI / MPWR** 提供板级电源管理模块

➡️ 所以：**NVIDIA 是整个AI硬件生态的核心引擎，而 Micron、Broadcom、Marvell、TI、ADI、MPWR 是其关键二级供应商。**

---

## 三、估值与股价位置评估：谁被高估？谁还有空间？

我们将结合 **PE比率、Beta系数、股价相对52周区间的位置、以及宏观背景** 来综合判断估值合理性。

| 公司 | 当前价 | 52周高 | 52周低 | 距高点 | 距低点 | PE | Beta | 估值评价 |
|------|--------|--------|--------|--------|--------|-----|-------|-----------|
| **NVIDIA (NVDA)** | $191.49 | $195.62 | $86.62 | -2.1% | +121% | 53.56 | 2.30 | 接近历史新高，PE合理（AI溢价） |
| **Broadcom (AVGO)** | $362.05 | $374.23 | $138.1 | -3.3% | +162% | 89.80 | 1.20 | 高估明显，但有“苹果+AI网络”双支撑 |
| **AMD** | $259.67 | $253.39 | $76.48 | +2.5% | +240% | 147.9 | 1.91 | 显著高估，依赖AI叙事延续 |
| **Micron (MU)** | $220.10 | $219.82 | $61.54 | +0.1% | +258% | 29.02 | 1.54 | 合理偏低，HBM弹性巨大 |
| **Qualcomm (QCOM)** | $187.68 | $182.10 | $120.80 | +3.1% | +55% | 17.69 | 1.21 | 低估，现金流稳定，分红佳 |
| **Intel (INTC)** | $39.54 | $41.12 | $17.67 | -3.8% | +124% | 936 | 1.33 | 极高PE因盈利低迷，转型观察期 |
| **TI (TXN)** | $169.41 | $221.69 | $139.95 | -23.6% | +21% | 30.54 | 1.02 | 低估，防御性强 |
| **ADI** | $243.01 | $258.13 | $158.65 | -5.9% | +53% | 60.94 | 1.07 | 中性略高，整合消化期 |
| **Marvell (MRVL)** | $88.71 | $127.48 | $47.09 | -30.4% | +88% | N/A | 1.93 | 折价明显，需看AI互联进展 |
| **MPWR** | $1,105.05 | $1,091.91 | $438.86 | +1.2% | +152% | 28.35 | 1.48 | 高增长支撑高股价，估值合理 |

### 🧠 估值总结：

| 类别 | 代表公司 | 判断 |
|------|---------|------|
| **已被充分定价（甚至透支）** | NVDA, AVGO, AMD | AI龙头，市场给予极高预期，进一步上涨需业绩兑现 |
| **具备安全边际 + 弹性潜力** | MU, QCOM, TXN, MRVL | 特别是MU和QCOM，估值低且受益于AI和消费复苏 |
| **严重失真（不具参考性）** | INTC | PE高达936，因净利润下滑导致分母极小，真实价值应看EBITDA或转型进度 |
| **高增长支撑高股价** | MPWR | 营收CAGR超20%，盈利能力强，稀缺性突出 |

---

## 四、投资建议：按时间维度配置组合

基于上述宏观判断（**利率见顶、即将转向宽松**）和产业逻辑（**AI基础设施建设仍在早期**），我们的策略是：

> **短期防御 + 中期进攻 + 长期布局**

---

### 🕒 **1–3个月展望：震荡蓄势，优选“估值合理+确定性强”标的**

> 宏观背景：联储尚未降息，市场等待通胀进一步降温；财报季波动加大。

| 推荐标的 | 理由 |
|----------|------|
| ✅ **Micron (MU)** | - 股价刚破新高，HBM3E独家供应英伟达B100<br>- 存储周期触底回升，DRAM/NAND价格持续上涨<br>- PE仅29x，显著低于成长性匹配水平 |
| ✅ **Qualcomm (QCOM)** | - PE仅17.7x，股息率约2.5%<br>- 智能手机库存出清完毕，安卓链复苏<br>- 汽车与IoT业务提供第二 曲线 |
| ✅ **Texas Instruments (TXN)** | - Beta=1.02，抗波动性强<br>- 工业与汽车需求稳健，自由现金流充沛<br>- 回购+分红稳定 ，适合震荡市持有 |

> ❌ 规避：**AMD、AVGO** —— 已经price in太多乐观预期，短期缺乏催化剂。

---

### 🕒 **3–6个月展望：降息启动，成长股重获青睐**

> 宏观背景：预计Q1启动降息，流动性改善，风险偏好上升。

| 推荐标的 | 理由 |
|----------|------|
| ✅ **NVIDIA (NVDA)** | - 若Q4业绩超预期，叠加Blackwell全面量产<br>- 降息环境下，高Beta（2.3）将放大涨幅<br>- 目标价 上看$230–250 |
| ✅ **Marvell (MRVL)** | - 当前折价30%，AI互联芯片放量在即<br>- 与微软合作Azure智能NIC<br>- 若AI集群扩展，MRVL弹性大 于NVDA |
| ✅ **Monolithic Power (MPWR)** | - 高利润率（>30%净利率），全球电源管理隐形冠军<br>- 数据中心+电动车双重驱动<br>- 可承受更高估值，目标$1300+ |

> ⚠️ 注意：**AVGO 和 AMD 需要看三季度订单能否持续增长**，否则可能回调。

---

### 🕒 **2年以上长期战略持仓：构建“AI+工业+自主可控”三位一体组合**

> 宏观背景：美国进入新一轮科技投资周期，AI、机器人、自动驾驶、边缘计算兴起。

| 推荐组合 | 理由 |
|----------|------|
| 🔹 **核心引擎：NVIDIA** | AI算力底层平台，CUDA护城河深厚，软件生态难以复制 |
| 🔹 **存储基石：Micron** | HBM是AI显卡瓶颈之一，国产替代加速下全球供给集中度提升 |
| 🔹 **模拟王者：MPWR + TXN + ADI** | 工业4.0、能源转换、电动车三大趋势不可逆，模拟芯片“无处不在” |
| 🔹 **通信互联：Marvell + Broadcom** | AI集群需要高速互连，硅光、Co-Packaged Optics是未来方向 |
| 🔹 **安全边际：Qualcomm** | 地缘政治下，多元化供应链重要性上升，QCOM在中国市占率稳固 |

> ❌ **Intel (INTC)**：除非其代工业务实现重大突破（如拿下苹果AP订单），否则长期仍面临结构性挑战。

---

## 五、最终投资组合建议（主动型对冲基金视角）

| 时间范围 | 推荐配置 | 权重建议 | 动态调整提示 |
|----------|----------|-----------|----------------|
| **1–3个月** | MU + QCOM + TXN | 40% + 30% + 30% | 关注10月CPI与Fed会议声明 |
| **3–6个月** | 加仓 NVDA + MRVL + MPWR | 原有组合减仓调入 | 若NVDA财报强劲，可增至30%仓位 |
| **2年以上** | 构建“AI三角”：<br>NVDA（算力）+ MU（存储）+ MRVL（互联）<br>+ “工业铁三角”：<br>MPWR + TXN + ADI | 分 散配置，每只10–15% | 定期再平衡，避免单一暴露 |

---

## 六、风险提示

1. **通胀反复**：若能源价格上涨导致CPI反弹，美联储推迟降息 → 利率敏感型成长股承压。
2. **AI资本开支放缓**：若Meta、Google削减AI支出，则NVDA、MU、MRVL集体受挫。

---

## 结语：站在历史转折点上的布局

---
> 我们正处在 **“AI革命的基础设施建设期”** 与 **“货币政策转向的临界点”** 的交汇时刻。

此刻的投资不应追逐短期热点，而应：
- **识别真正的价值链核心环节**
> 我们正处在 **“AI革命的基础设施建设期”** 与 **“货币政策转向的临界点”** 的交汇时刻。

此刻的投资不应追逐短期热点，而应：
- **识别真正的价值链核心环节**
- **把握估值与景气度的错配机会**
- **构建既能穿越波动又能捕捉爆发的成长组合**

此刻的投资不应追逐短期热点，而应：
- **识别真正的价值链核心环节**
- **把握估值与景气度的错配机会**
- **构建既能穿越波动又能捕捉爆发的成长组合**
- **识别真正的价值链核心环节**
- **把握估值与景气度的错配机会**
- **构建既能穿越波动又能捕捉爆发的成长组合**

> **推荐优先买入：Micron (MU)、Qualcomm (QCOM)、Texas Instruments (TXN)**
- **把握估值与景气度的错配机会**
- **构建既能穿越波动又能捕捉爆发的成长组合**

> **推荐优先买入：Micron (MU)、Qualcomm (QCOM)、Texas Instruments (TXN)**

> **推荐优先买入：Micron (MU)、Qualcomm (QCOM)、Texas Instruments (TXN)**
> **推荐优先买入：Micron (MU)、Qualcomm (QCOM)、Texas Instruments (TXN)**
> **准备加仓：NVIDIA (NVDA)、Marvell (MRVL)、Monolithic Power (MPWR)**
> **准备加仓：NVIDIA (NVDA)、Marvell (MRVL)、Monolithic Power (MPWR)**

这是一轮堪比2009年移动互联网起步阶段的科技浪潮——现在，正是布局的时候。

---

如需生成具体仓位模型、回测绩效或构建多空对冲策略（例如做多MU/做空INTC），欢迎进一步指示。







### V1.4版本
#### 增加替代金融数据源，防止Finnhub返回超时，增加稳健性-2025年10月26日更新
因为我是用免费版的，短时间内高频调用不太现实，考虑补充Alpha Vantage或者其他金融数据源来输出相关内容，即如果调用Finnhub超时，就继续调用Alpha Vantage或者其他金融数据源的内容，
第一个问题，除了Alpha Vantage和Finnhub，市面上还有哪些免费的微观个股层面的金融数据源？
目前找到的包括：1.Twelve Data：https://support.twelvedata.com/en/ (推荐)。2.EODHD：https://eodhd.com/ (不建议用，EODHD免费版每日API调用仅限20次)。笔者还尝试使用Financial Modeling Prep (FMP)，但FMP 的条款明确禁止用户“将数据或服务集成到任何可供第三方访问的工具或应用程序中”，因此我的这个开源项目不支持。Yahoo Finance API((通过 yfinance 等库))这种抓取库的问题是一旦雅虎财经更改其网站的 HTML 布局或后端端点（他们会定期这样做），项目就会立即崩溃。因此需要不断地维护和更新代码，以适应雅虎的更改。开源AI助手会变得非常不稳定。Polygon.io也明确规定其免费套餐仅用于“测试、试用和其他评估性（但非开发性或生产性）的使用。因此还是使用Alpha Vantage、Twelve Data、Finnhub和EODHD这4种金融数据源较为稳妥。

以下为4种金融数据源免费用户可以使用的限制及功能对比：
| 特性/平台       | Finnhub                                                  | Alpha Vantage                                  | Twelve Data                              | EODHD（根据网络信息）       |
| --------------- | -------------------------------------------------------- | ---------------------------------------------- | ----------------------------------------- | ---------------------------- |
| 每日请求限制    | 极低（约30次/分钟，每日总数很低）| 500次/天（5次/分钟）| 800 Credits/天（8 Credits/分钟）| 约20次/天                   |
| 数据范围        | US股票、Forex、Crypto（全球符号）| 全球股票、Forex、Crypto、商品、经济指标       | 仅US股票、Forex、Crypto（全球符号）| 全球股票、Forex、Crypto（有限） |
| 核心价格数据    | 无历史K线（OHLCV ❌）| 有历史K线（日终更新）✅| 有历史K线（仅限US/Forex/Crypto）✅| 有历史K线（有限历史深度）✅|
| 实时性          | WebSocket实时交易流（免费且优异）⭐| 非实时（盘中数据为日终更新）🧐| 非实时（WebSocket需付费）| 非实时                      |
| 基本面数据      | 仅 Company Profile 2 和 Basic Financials 摘要。深度财报付费。 | 可获取：公司概览、完整的财报数据。| 基础功能可用，深度财报消耗Credits巨大。| 仅提供有限的基本面数据。|
| 技术指标        | Premium ⚠️| 完全免费可用 ✅| 完全免费可用（消耗1 Credit）✅| Premium 或限制极多。|
| Python使用      | 官方SDK（finnhub-python）| 社区库（alpha_vantage）或 requests 库| 官方SDK（twelvedata）| 官方或社区库（eodhd）|

PS:一般来说有金融数据源官方库(如EODHD 官网SDK)和直接使用REST API两种方式。REST API是是通信协议/接口，所有语言通用，仅涉及发送HTTP请求和接收JSON响应。优点是跨语言项目能够很好支持，缺点是每次需要手动构建完整的URL字符串/手动接收JSON字符串/手动检查HTTP状态码。官方库只能用于某一特定编程语言，会自动将API返回的原始JSON响应解析并转换为特定个语言结构的数据结构，比如python中的dict、pandas DataFrame等，更易于后续处理。

  2025年10月26日12:25:24现在遇到了问题：之前使用的Finnhub，通过定义get_XXX函数返回了包括公司名称、所属行业、目前市值、官网、最近成交价、前一个交易日收盘价、52周最高最低价格、基于过去52周每日收盘价就算的价格回报率、行业竞争对手、最近30天公司情况、已发布的财务数据、最新公司在SEC的备案文件等数据，那么这里就存在2个问题：1.其他比如说Alpha Vantage、Twelve data和EODHD不一定支持能获取这些信息。2.第二个问题是即便能够返回，调用频率、一次调用返回的最大数这两个指标也不一定支持。

  关于上述问题的解决方式：目前来看Twelve Data更支持技术分析等内容，包括Alpha Vantage在基本面分析这块能够提供的数据类型都不如Finnhub丰富，比如Alpha Vantage不支持同行公司、内部人员交易、SEC文件等，当然Alpha Vantage也有优点，能够完整提供3张财务报表。因此在基本面分析师Agent这块中，删除同行公司、内部人员交易、SEC文件、公司新闻来实现Finnhub+Alpha Vantage实现替换。
  2025年10月26日21:50:01，目前是取Alpha Vantage和Finnhub功能的“交集”，通过try except块的方式，如果try中Finnhub数据源不能正常返回，则使用Alpha Vantage的数据源。


### V1.3版本
#### 增加宏观经济指标分析--2025年10月25日更新
光是“好公司，好价格”好不够，如果处于美联储加息阶段，那么一些风险资产表现可能就不是特别好，如果处于美联储降息阶段，那么市场会更青睐一些有想象力的股票，因此需要我们在选择购入股票之前，弄清楚当前处于什么样的历史阶段。
这里分享一下：1.FRED的数据API网站：https://fred.stlouisfed.org/docs/api/api_key.html  
2.美国劳工部网站：https://www.bls.gov/bls/api_features.htm
3.美国经济分析局： https://apps.bea.gov/API/signup/?_gl=1*gq5ncy*_ga*MzA1NTk2NjA3LjE3NjExNDE3NTQ.*_ga_J4698JNNFT*czE3NjExNDE3NTMkbzEkZzEkdDE3NjExNDE3ODIkajMxJGwwJGgw
   在我们下载安装好对应的包，并且from fredapi import Fred之后，我们定义一个get_macro_economic_data的函数，设置一个空字典mmacro_data，关键的FRED指标代码说明如下图所示，我们只需要fred.client.get_series('FRED代码',observation_start='填写你想要设置的时间格式xxxx-xx-xx')之后，macro_data['子字典key']={孙A字典key：孙A字典value，孙B字典key：孙B字典value....}的形式将包括汇率、利率、就业、通胀、GDP相关的数据装进macro_data中。

| 类别 | 指标               | FRED代码       | 说明               |
|------|--------------------|----------------|--------------------|
| 汇率 | 美元兑人民币       | DEXCHUS        | 日更新             |
|      | 美元兑日元         | DEXJPU         | 日更新             |
|      | 欧元兑美元         | DEXUSEU        | 需取倒数           |
| 利率 | 联邦基金利率上限   | DFEDTARU       | FOMC会议更新       |
|      | 联邦基金利率下限   | DFEDTARL       | FOMC会议更新       |
| 就业 | 非农业就业人数     | PAYEMS         | 月度，首个周五     |
|      | 失业率             | UNRATE         | 月度               |
|      | 平均时薪           | CES0500000003  | 月度               |
| 通胀 | CPI                | CPIAUCSN       | 月度，未季调       |
|      | 核心CPI            | CPILFESL       | 月度，季调         |
|      | 核心PCE            | PCEPILE        | 月度               |
| GDP  | 名义GDP            | GDP            | 季度               |
|      | 实际GDP            | GDPC1          | 季度               |
|      | GDP平减指数        | GDPDEF         | 季度               |
   我们定义一个test_macro_data()函数来进行测试，通过.items()获取字典中的键值对，接着用isinstance()判断里面的子字典是否存在，然后将子字典的键和值用f-string的方式打印出来。继续使用if __name__=="__main__":来启动test_macro_data()函数
   完成上述工作后，我们尝试将从FRED获取的宏观经济数据还是通过f-string的方式塞进messages中，然后llm.stream(messages)流式输出内容。
##### 附上2025年10月25日输入symbol='NVDA',str_time='2025-09-25',end_time='2025-10-24'的结果
**顶级对冲基金经理宏观周期与微观个股分析报告：NVIDIA (NVDA)**  
*日期：2025年10月24日*

---

### **一、宏观经济环境判断：从“高利率紧缩”向“温和宽松”过渡的拐点**

我们正处在一个关键的宏观经济转折期。尽管美联储尚未正式开启降息周期，但数据已清晰指向货币政策即将转向“温和宽松”的方向。

#### 1. **汇率信号：美元走弱，全球流动性预期改善**
- **美元兑人民币**：7.1264 → 显示人民币小幅承压，但未出现大幅贬值，反映中国出口韧性。
- **美元兑日元**：150.33 → 日本央行仍维持超低利率，日元持续弱势，凸显美元相对强势。
- **美元兑欧元**：0.8566 → 欧洲经济疲软叠加欧央行可能早于美联储降息，欧元偏弱。

> **解读**：美元指数整体仍强，但近期非农就业放缓（见下文）和市场对美联储降息的定价，已开始压制美元进一步上行空间。**美元阶段性见顶迹象初现，有利于风险资产估值修复。**

#### 2. **利率环境：处于“暂停观察期”，但降息窗口正在打开**
- **联邦基金利率**：4.00%-4.25%（最新一次会议维持不变）
- **前值**：5.25%-5.50%（2023年7月峰值）

> **解读**：美联储已连续多次暂停加息，并在9月FOMC会议上释放“年内可能降息”的鸽派信号。当前利率水平已显著抑制通胀，且未 引发衰退，为后续降息预留了空间。

#### 3. **就业数据：边际放缓，支持降息逻辑**
- **非农就业人数**：+159,540人（月度变化 +22k），虽高于预期，但较前期高增长明显降温。
- **失业率**：4.0%（持平），劳动力市场仍健康但不再过热。
- **平均时薪同比**：+3.69% → 薪资增速回落至2022年以来最低水平之一。

> **核心结论**：就业市场“由热转温”，薪资压力缓解，**消除了美联储推迟降息的最大障碍**。

#### 4. **通胀数据：持续回落，接近目标区间**
- **CPI同比**：3.01%
- **核心CPI同比**：3.03%
- **核心PCE（美联储更关注指标）**：2.91%

> **解读**：通胀已连续多个季度下行，逼近美联储2%目标。结合薪资增速放缓，**“工资-物价螺旋”风险基本解除**。

#### 5. **GDP增长：名义强劲，实际温和**
- **名义GDP同比增长**：4.59% → 受价格因素推动
- **实际GDP同比增长**：1.25% → 实体经济增长温和

> **解读**：经济既未陷入衰退，也未过热，为美联储提供“软着陆”操作空间。

---

### ✅ **综合判断：货币政策将进入“渐进式宽松”阶段**

| 维度 | 当前状态 | 政策含义 |
|------|----------|---------|
| 利率 | 高位暂停 | 观察期结束，降息可期 |
| 通胀 | 回落至3%以下 | 紧缩必要性下降 |
| 就业 | 健康但降温 | 不再构成降息阻碍 |
| 增长 | 温和扩张 | 无需紧急刺激 |

> **结论**：**美联储将在未来1-2次会议中启动降息，预计2025年底至2026年初累计降息50-75bps。资产负债表也将停止缩表，逐步 转向“扩表”预期。**

👉 **宏观环境评分：★★★★☆（利好成长股）**

---

### **二、微观公司分析：NVIDIA —— AI时代的“数字石油”巨头**

#### （一）基本面概览：爆发式增长，财务状况极为健康

| 指标 | 最新财年（2025） | 同比增长 |
|------|------------------|--------|
| **营收** | $1304.97亿 | +114% vs 2024 |
| **净利润** | $728.8亿 | +145% |
| **毛利率** | ~74.9% | 行业顶尖水平 |
| **经营现金流** | $640.89亿 | 强大造血能力 |
| **现金及等价物** | $85.89亿 | 加上$346.21亿可售证券，总流动性近$432亿 |

> **点评**：NVIDIA正处于历史上最强劲的增长周期，受益于AI训练芯片（Hopper/Blackwell架构）的全球垄断地位。

#### （二）股价表现与估值定位

| 项目 | 数值 |
|------|------|
| 当前股价 | $186.26 |
| 52周最高价 | $195.62 |
| 52周最低价 | $86.62 |
| 市值 | $4.526万亿 |
| 近一年回报率 | +33.46% |

> **技术面观察**：
- 当前股价距离52周高点仅约5%，显示市场情绪依然乐观。
- 自2024Q4以来股价呈“阶梯式上涨”，每次财报后均有突破。
- RSI未进入极端超买区，短期回调压力有限。

#### （三）新闻动态与竞争格局

近期新闻集中体现三大主题：

1. **AI需求“极度旺盛”**  
   - CEO黄仁勋称：“Blackwell GPU需求非常非常高。”
   - OpenAI、微软、Meta等巨头争相采购，订单排到2026年。

2. **生态壁垒持续扩大**  
   - 推出DGX Spark个人AI超算，降低开发者门槛。
   - 与Google Cloud、Dell、Zadara等深化合作，构建“全栈AI基础设施”护城河。
   - 投资Reflection AI、Sagehood等初创企业，布局下一代AI模型。

3. **竞争威胁存在但尚远**  
   - AMD与OpenAI达成合作，获大单提振股价。
   - 苹果、谷歌自研AI芯片（如TPU），但短期内无法撼动NVDA在训练端的统治地位。
   - 华尔街普遍认为：“**目前没有真正的替代品**”。

> **风险提示**：部分媒体炒作“AI泡沫论”，包括Jim Chanos、Jared Bernstein等人警告估值过高。但从业绩兑现角度看，**“故事” 正在变成“现实”**。

---

### **三、投资决策：是否应买入？以何价格买入？**

#### （一）宏观与微观共振：**“顺风局”仍在延续**

| 宏观因子 | 对NVDA影响 |
|--------|-----------|
| 利率见顶回落 | ✅ 提升成长股估值容忍度 |
| 流动性预期改善 | ✅ 利好科技龙头融资与并购 |
| AI资本开支潮 | ✅ 直接受益于数据中心升级 |

> **结论**：宏观环境从“压制估值”转向“支撑估值”，而NVDA的基本面是“加速增长”，形成**戴维斯双击强化效应**。

#### （二）估值评估：不便宜，但合理

- **市盈率（PE-TTM）**：约55x（基于2025年EPS $2.94）
- **PEG比率**：≈0.4（若未来三年复合增长率保持40%+）

> **对比历史**：
- 2020年疫情初期：PE ≈ 70x，增长停滞 → 高估
- 2023年AI启动前夜：PE ≈ 40x，增长未知 → 低估
- **2025年当下**：PE ≈ 55x，增长140%+ → **估值与成长匹配**

> **类比**：如同2003年的苹果、2013年的亚马逊——**高估值被持续增长消化**。

#### （三）机构行为与市场情绪验证

- **SEC备案文件显示**：近期有多笔高管减持（Form 4），但同时有大量Rule 10b5-1计划下的常规出售，不宜过度解读。
- **大宗交易活跃**：多起144A规则下的大宗转让，表明机构间换手积极，非恐慌性抛售。
- **华尔街共识**：Jefferies、JPMorgan等重申“买入”，理由是“整个生态系统都在追赶NVDA”。

---

### ✅ **最终投资建议：持有或逢低吸纳，目标价看向上调**

| 问题 | 回答 |
|------|------|
| **当前股价是否高估？** | **否。** 尽管绝对估值高，但考虑到其在AI产业链中的核心地位、盈利质量与增长速度，**估值具备合理性**。 |
| **是否应当买入？** | **对于长期投资者：是。**<br>对于短线交易者：需警惕短期波动，等待回调机会。 |
| **合适买入价格？** | 
| - **激进型**：现价可分批建仓（$180–$190）<br>- **保守型**：等待回踩$170–$175区域（对应2025年PE约50x）<br>- **止损参 考**：跌破$165（前一轮平台支撑）则重新评估 |
| **目标价展望** | 
| - **12个月目标价**：$230–$250（基于2026年EPS $4.00 × 60x PE）<br>- **长期潜力**：若AI渗透率继续提升，市值有望挑战$6T+ |

---

### **四、风险提示（必须警惕的三大尾部风险）**

1. **地缘政治风险加剧**  
   - 中美科技脱钩：中国禁售高端GPU，NVDA在中国收入占比下滑（黄仁勋承认“从95%降至0%”）。  
   → 应对：关注国产替代进展与NVDA通过本地化方案绕开限制的能力。

2. **AI资本开支不可持续**  
   - Jim Chanos警示：“AI CapEx可能引发类似‘科网泡沫’的衰退”。  
   → 关键观察点：云厂商（AWS、Azure、GCP）的ROI回报率与利用率数据。

3. **技术路线颠覆风险**  
   - 量子计算、光子芯片、存算一体等新技术若取得突破，可能重构算力格局。  
   → 目前仍属早期概念，NVDA自身也在积极投资前沿领域。

---

### **五、总结：站在历史正确的一边**

> “**我们不是在买一家半导体公司，而是在购买人工智能文明的操作系统供应商。**”

- **宏观层面**：美国经济实现“软着陆”，通胀受控，美联储即将开启降息周期，**全球流动性环境趋于宽松**。
- **行业层面**：AI基础设施建设进入“军备竞赛”阶段，算力即权力，**NVIDIA是唯一能提供完整解决方案的厂商**。
- **公司层面**：业绩持续超预期，现金流充沛，生态护城河极深，管理层战略清晰。

📌 **投资评级**：**强烈买入（Strong Buy）**  
📌 **仓位建议**：核心持仓配置，长期持有为主，短期可波段操作增强收益。  
📌 **最佳买点**：**$170–$185区间为理想加仓带**，突破$200后追涨性价比下降。

---

**附录：关键催化剂时间表（2025Q4-Q1 2026）**

| 时间 | 事件 | 影响 |
|------|------|------|
| 2025.11.19 | NVDA Q3财报发布 | 关注Blackwell交付进度与数据中心指引 |
| 2025.12 | FOMC议息会议 | 若宣布首次降息，将极大提振科技股 |
| 2026.Q1 | Blackwell全面量产 | 产能爬坡决定下一阶段增长斜率 |
| 2026.H1 | GTC大会 | 新一代架构（Rubin?）发布预期升温 |

---

**签名**  
*首席投资官 | 全球科技与周期策略组*  
*某顶级对冲基金办公室 · 2025年10月24日*




### V1.2版本
#### 将Finnhub获得的数据装进LLM中-2025年10月21日更新
目前的思路是直接修改messages中user输入的content内容。用一个字符串变量data将需要分析的内容传进去，因此我做的事情就是重新定义一个fundamental_analysis函数，然后将之前定义的get_XXXX_XXX(从Finnhub获取金融数据的函数)返回的结果传入到company_XXX相关变量中去，然后创建一个data变量，通过f-string的方式将我们要分析的金融数据、对大模型的要求等内容传进去。
在data中，通过{company_xxx[key]}值的方式将金融数据传入到data中。此时你还是可以选择打印出来。
选择使用.stream(messages)让大模型生成的内容一个字一个字“蹦”出来。
这里你可以直接把参数传进fundamental_analysis函数里面，然后print打印出来，或者使用if __name__=="__main__"打印出来，注意，上述我们一直在def fundamental_analysis里面，我们if需要写在函数定义外面。

##### 附上2025年10月21日晚输入symbol='NVDA',str_time='2025-09-01',end_time='2025-10-21'的结果
-----
-----
-----
# NVIDIA Corp (NVDA) 基本面与估值分析报告

## 1. 估值水平分析

### 当前估值指标
- **当前股价**：181.975 美元
- **市值**：4,438.15 亿美元（约 4.44 万亿美元）
- **52周价格区间**：86.62 - 195.62 美元
- **基于过去52周的价格回报率**：+33.38%

### 关键估值比率（基于2025财年财务数据）

#### 1. 市盈率（P/E）
- **净利润**（2025财年）：728.8 亿美元
- **总股本**（稀释后）：248.04 亿股
- **每股收益**（EPS Diluted）：2.94 美元
- **市盈率**（P/E） = 股价 / EPS = 181.975 / 2.94 ≈ **61.9x**

> 注：该P/E为TTM（滚动市盈率），反映当前市场对NVIDIA盈利能力的定价。

#### 2. 市销率（P/S）
- **营业收入**（2025财年）：1,304.97 亿美元
- **市销率**（P/S） = 市值 / 收入 = 4438.15 / 1304.97 ≈ **3.40x**

#### 3. 市净率（P/B）
- **股东权益**（2025财年）：793.27 亿美元
- **市净率**（P/B） = 市值 / 股东权益 = 4438.15 / 793.27 ≈ **5.59x**

#### 4. 自由现金流收益率
- **经营性现金流**（2025财年）：640.89 亿美元
- **资本支出**（购建固定资产等）：32.36 亿美元
- **自由现金流**（FCF）≈ 640.89 - 3.236 = **637.65 亿美元**
- **自由现金流收益率** = FCF / 市值 = 637.65 / 4438.15 ≈ **14.37%**
- **企业价值/自由现金流**（EV/FCF）≈ 4438.15 / 637.65 ≈ **6.96x**

---

### 行业对比视角下的估值定位

| 公司 | P/E (估算) | P/S (估算) | 备注 |
|------|------------|------------|------|
| NVDA | ~62x       | ~3.4x      | AI芯片领导者，高增长驱动高估值 |
| AVGO | ~35x       | ~1.8x      | 半导体巨头，多元化布局 |
| AMD   | ~40x       | ~10x       | GPU/CPU双线竞争者，增速快但基数小 |
| MU    | ~20x       | ~4.5x      | 存储芯片周期性强 |
| QCOM | ~25x       | ~3.5x      | 移动通信主导，AI边缘计算拓展中 |

> 数据来源：公开财报及市场共识预测。NVIDIA在所有可比公司中处于最高估值梯队。

### 小结：估值结论
- NVIDIA目前的**市盈率高达62倍**，远超传统半导体公司平均水平（通常<30x）。
- **市销率3.4倍**虽低于部分成长型科技公司，但在其巨大营收规模下仍属高位。
- **自由现金流强劲**（637.65亿美元），支撑能力较强，EV/FCF仅7倍，显示其盈利质量极高。
- 综合来看，**估值显著偏高**，但并非完全脱离基本面——其超高盈利能力与行业地位提供了支撑。

---

## 2. 财务数据分析（基于2025财年年报）

### （1）利润表分析：爆发式增长与卓越盈利能力

| 指标 | 数值 | 同比变化趋势（近五年） |
|------|------|------------------------|
| 总收入 | 1,304.97 亿美元 | 从2021年的269亿 → 2025年的1305亿，**CAGR > 50%** |
| 毛利率 | 75.0%（= 978.58 / 1304.97） | 近三年稳定在75%以上，全球顶尖水平 |
| 营业利润率 | 62.4%（= 814.53 / 1304.97） | 显著高于行业平均（~20%-30%） |
| 净利润率 | 55.8%（= 728.8 / 1304.97） | 极端优秀，体现定价权和成本控制力 |

> 💡 **核心亮点**：
> - **毛利率连续多年维持在75%以上**，说明其产品具备极强的技术壁垒和议价能力。
> - **营业利润同比增长超过150%**（2024年为329.7亿 → 2025年814.5亿），远超收入增速，体现规模效应释放。
> - **研发投入占比仅9.9%**（129.14亿/1304.97亿），相比其他科技巨头（如Meta、Google常达15%+），效率极高。

### （2）资产负债表分析：稳健且健康的财务结构

| 类别 | 关键项目 | 数值 |
|-------|----------|------|
| **资产端** | 现金及等价物 + 可售证券 | 85.89 + 346.21 = **432.1 亿美元** |
|           | 应收账款 | 230.65 亿美元 |
|           | 存货 | 100.8 亿美元 |
|           | 总资产 | 1,116.01 亿美元 |
| **负债端** | 总负债 | 322.74 亿美元 |
|           | 长期债务 | 84.63 亿美元 |
|           | 流动负债 | 180.47 亿美元 |
| **股东权益** | 总股东权益 | 793.27 亿美元 |
|            | 资产负债率 | 322.74 / 1116.01 ≈ **28.9%** |

> ✅ **优势总结**：
> - **现金储备极其充裕**（超430亿美元），无短期偿债压力。
> - **低杠杆运营**，资产负债率不足30%，财务风险极低。
> - **零短期借款**，长期债务主要用于战略投资而非日常经营。

### （3）现金流量表分析：内生造血能力强

| 项目 | 数值 |
|------|------|
| 经营活动现金流 | 640.89 亿美元 |
| 投资活动现金流 | -204.21 亿美元 |
| 筹资活动现金流 | -423.59 亿美元 |
| 年度净现金流变动 | +13.09 亿美元 |

> 🔍 **解读**：
> - **经营现金流充沛**（640.89亿），是净利润的88%（728.8亿），表明盈利真实可靠。
> - 投资活动主要投向“购置财产设备”（32.36亿）、“收购业务”（10.07亿）以及“购买有价证券”（265.75亿），整体可控。
> - 筹资活动大额流出（-423.59亿）主因是**股票回购**（337.06亿）和**支付员工股权税负**（69.3亿），体现管理层回馈股东意 愿强烈。

---

## 3. 其他基本面分析角度

### （1）行业地位与护城河

- **AI芯片绝对领导者**：在全球AI训练芯片市场中占据**80%-90%份额**，尤其在数据中心GPU领域近乎垄断。
- **CUDA生态壁垒**：开发者已深度绑定NVIDIA平台，迁移成本极高，形成强大网络效应。
- **Blackwell架构领先**：最新Blackwell系列GPU性能较Hopper提升数倍，进一步拉开技术差距。
- **TSMC核心客户**：台积电最先进的制程优先供给NVIDIA，确保产能与良率优势。

### （2）近期动态与催化剂（来自新闻摘要）

- **DGX Spark发布**：推出个人级AI超级计算机，将AI开发门槛下沉至个体开发者，扩大生态系统边界。
- **Blackwell美国本土制造**：首块美国制造的Blackwell晶圆问世，符合地缘政治趋势，可能获得政策支持。
- **重大合作不断**：
  - OpenAI计划部署至少10GW的NVIDIA系统；
  - Google Cloud推出搭载Blackwell的新G4虚拟机；
  - 黑石、微软、英伟达联合签署**400亿美元AI基础设施协议**；
  - Nscale宣布采购约20万台GB300 GPU用于欧洲和美国AI基建。
- **中国市场进展**：尽管面临出口限制，但仍获准向阿联酋出口数十亿美元芯片，间接进入中东AI生态。

### （3）潜在风险点

| 风险类型 | 描述 |
|---------|------|
| **估值泡沫担忧** | 英国央行警告AI板块估值已达“互联网泡沫峰值”水平；多家媒体提及“AI泡沫” |
| **竞争加剧** | AMD、Marvell、Cerebras等挑战者涌现；同时Big Tech（Google、Amazon、Apple、Microsoft）均自研AI芯片 |
| **地缘政治风险** | 中美科技脱钩背景下，中国市场份额一度降至0%（黄仁勋语）；美国对华出口管制持续收紧 |
| **供应链依赖** | 高度依赖TSMC先进制程，若台海局势紧张或TSMC扩产不及预期，将影响交付能力 |

### （4）管理层与治理
- **Jensen Huang领导力被广泛认可**：被视为技术愿景家，带领公司穿越多个技术周期。
- **高管减持行为需关注**：近期有多位内部人士出售股票（SEC Form 4备案频繁），但多属预设交易计划（Rule 10b5-1），不必然 代表看空。
- **机构高度认可**：Jefferies重申“买入”，称“整个生态系统正在追赶NVIDIA”。

---

## 结论与投资建议

### 是否被高估？综合判断如下：

✅ **基本面极度强劲**：
- 收入突破1300亿美元，净利润超720亿美元，**盈利能力堪比苹果、微软级别**；
- 毛利率75%、净利率56%，**盈利能力居全球上市公司前列**；
- 自由现金流超637亿美元，**自我造血能力极强**；
- 资产负债表健康，**无任何流动性风险**。

⚠️ **估值明显溢价**：
- **62倍市盈率**意味着投资者对其未来增长抱有极高预期；
- 若AI资本开支放缓或技术迭代遇阻，股价回调压力大；
- 目前股价接近52周高点（195.62 vs 181.975），安全边际较低。

🔍 **增长可持续性评估**：
- 客户需求旺盛：OpenAI、Google、BlackRock等巨头持续加码采购；
- 生态扩张：从云厂商渗透到终端用户（DGX Spark）、制造业（ABB）、金融（Enbridge）、国防（无人机+AI）等多个领域；
- 技术代差保持领先：Blackwell之后已有B100/B200规划，研发节奏清晰。

---

## 📌 最终投资建议：**短期“合理偏高估”，长期仍具配置价值**

### 推荐评级：**持有 / 回调买入（Buy on Dips）**

### 理由如下：

1. **当前估值已充分反映乐观预期**  
   在62倍PE下，除非未来三年继续保持50%以上的复合增长率，否则难以支撑更高估值。因此**不宜追高**。

2. **基本盘稳固，增长动能未衰竭**  
   所有关键财务指标（收入、利润、现金流）均呈加速态势，且客户订单可见性强（如OpenAI百亿级投入）。**业绩支撑仍在强化** 。

3. **结构性机会大于周期性波动**  
   AI算力是新一轮工业革命的核心基础设施，NVIDIA作为“卖铲人”将持续受益于全球AI军备竞赛。即使短期情绪降温，长期趋势不可 逆。

4. **建议操作策略**：
   - **现有持仓者**：继续持有，无需恐慌抛售；
   - **观望者**：等待回调至**160美元以下**（对应P/E约54x）再分批建仓；
   - **目标价参考**：若2026年净利润达到1000亿美元，则以50x PE计算，理论市值可达**5万亿美元**，对应股价约**2000美元**（长期空间可观）。

---

### 风险提示
- 若美联储加息导致科技股整体估值压缩，或AI投资热度下降，可能导致大幅回调；
- 地缘冲突升级可能冲击TSMC供应链；
- Big Tech自研芯片进度超预期，侵蚀高端市场空间。

---

## 附录：核心财务数据速览（2025财年）

| 指标 | 数值 |
|------|------|
| 营业收入 | $1,304.97 亿 |
| 净利润 | $728.80 亿 |
| 每股收益（EPS diluted） | $2.94 |
| 毛利率 | 75.0% |
| 营业利润率 | 62.4% |
| 净利润率 | 55.8% |
| 经营现金流 | $640.89 亿 |
| 自由现金流 | ~$637.65 亿 |
| 现金及等价物 | $85.89 亿 |
| 可供出售证券 | $346.21 亿 |
| 总负债 | $322.74 亿 |
| 股东权益 | $793.27 亿 |
| 资产负债率 | 28.9% |
| 市盈率（P/E） | ~62x |
| 市销率（P/S） | ~3.4x |
| 市净率（P/B） | ~5.6x |

> 分析日期：2025年10月21日
> 数据来源：公司财报、SEC文件、财经媒体报道整合

---

📌 **一句话总结**：
**NVIDIA是一家财务表现卓越、行业地位无可撼动的AI时代“印钞机”，但当前股价已计入极高预期，属于“优质但贵”的典型代表。适合长期配置，但应避免追高。**

-----
-----
-----
### V1.1版本-2025年10月19日更新
#### 添加了日常在做基本面分析的时候可能会用到的一些数据指标
包括：
1. 公司概况get_company_profile()
2. 获取实时股票数据报价get_real_time_data()  PS:免费版有15-30分钟的延迟
3. 获取有关公司新闻get_company_news()  PS:免费版限制最近30天
4. 获取同行业其他公司列表get_company_peers()
5. 获取指定股票盈利日历(财报发布时间、实际业绩、市场预期数据以及对应季度和年份)get_earnings_calendar()  PS:这里可以指定比如说'NVDA'
6. 获取指定区间段发布财报的公司相关数据get_specific_time_period_earings_calendar()  PS：跟上面类似
7. 获取公司基本财务信息(比如PE、PS、52周最高/低价、流动比率、净利率、营收额) get_company_basic_financials()
8. 获取公司内部人士增/减持股票的相关信息get_stock_inside_transactions()
9. 获取公司内部人士情绪的相关信息get_stock_insider_sentiment()
10. 获取已报告的财务数据(包括财务报表) get_financials_reported()
11. 上市公司在SEC备案文件(一次不能超过250份)get_stock_filings()
目前我是通过定义获取函数的方式，并将得到的返回结果打印出来。

### V1.0版本——2025年10月18日正式开始
#### 如何从0开始创建一个项目
1. 首先在Github上点击【new】，首先给仓库起一个名字，注意Github会检测这个名字是否可用
2. 然后添加描述→选择仓库是公开or私人→是否添加README.md文件→是否添加.gitignore→是否添加License，这里会有一堆License让你选择，但一般选MIT或者Apache
3. 创建成功后，然后把仓库克隆到本地某个文件里，建议使用Git克隆到指定为止
4. 接下来可以使用VScode打开该项目，在【终端】创建venv虚拟环境，并激活。激活成功后，点开【终端】会发现前面带有一个(venv)。
5. 接着自己创建一个requirements.txt文件，用来记录项目依赖的第三方库清单，进而统一项目在不同环境中的依赖版本。
    格式为：库名==版本号#精确指定版本，比如pandas==2.1.5 库名>=最低版本 #允许高于某一个版 本，比如 Numpy>=1.26.3
6. 完成requirements.txt书写后，在【终端】执行 pip install -r requirements.txt。完成后，Python会按照清单中的库名和版本，自动下载并安装所有依赖。
7. 当你在整个项目里新增依赖的时候，使用pip freeze > requirements.txt，会将当前环境下所有已安装的第三方库及其版本写入文件中。执行后，打开requirements.txt也能看见所有依赖清单。

### 目前我准备先从基本面分析师Agent开始写
目前的项目流程图如下所示：
根目录
├── AI_Invest_Assistant
│   ├── Agents
│   │   └── fundamental_analyst.py
│   ├── web
│   │   └── streamlit.py
│   ├── .env
│   ├── .gitignore
│   ├── LICENSE
│   ├── main.py
│   ├── README.md
│   └── requirements.txt  # requirements.txt应该也是放在文件夹里面，但直到现在我才  │ 察觉到，同时因为我默认是打开【1018】FINAL_OPPOTUNITY,因此我想要更新pip freeze │>requirements.txt更新还需要cd AI_Invest_Assistant，以后的项目需要注意！
└── venv  #这里我发现我venv位置放错了，应该是放在AI_Invest_Assistant里面