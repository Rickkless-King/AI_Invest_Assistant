# AI_Invest_Assistant
An AI investment assistant based on a large language model


### V1.2版本
#### 将Finnhub获得的数据装进LLM中-2025年10月21日更新
目前的思路是直接修改messages中user输入的content内容。用一个字符串变量data将需要分析的内容传进去，因此我做的事情就是重新定义一个fundamental_analysis函数，然后将之前定义的get_XXXX_XXX(从Finnhub获取金融数据的函数)返回的结果传入到company_XXX相关变量中去，然后创建一个data变量，通过f-string的方式将我们要分析的金融数据、对大模型的要求等内容传进去。
在data中，通过{company_xxx[key]}值的方式将金融数据传入到data中。此时你还是可以选择打印出来。
选择使用.stream(messages)让大模型生成的内容一个字一个字“蹦”出来。
这里你可以直接把参数传进fundamental_analysis函数里面，然后print打印出来，或者使用if __name__=="__main__"打印出来，注意，上述我们一直在def fundamental_analysis里面，我们if需要写在函数定义外面。

##### 附上2025年10月21日晚输入symbol='NVDA',str_time='2025-09-01',end_time='2025-10-21'的结果
-----
-----
-----
# NVIDIA Corp (NVDA) 基本面与估值分析报告

## 1. 估值水平分析

### 当前估值指标
- **当前股价**：181.975 美元
- **市值**：4,438.15 亿美元（约 4.44 万亿美元）
- **52周价格区间**：86.62 - 195.62 美元
- **基于过去52周的价格回报率**：+33.38%

### 关键估值比率（基于2025财年财务数据）

#### 1. 市盈率（P/E）
- **净利润**（2025财年）：728.8 亿美元
- **总股本**（稀释后）：248.04 亿股
- **每股收益**（EPS Diluted）：2.94 美元
- **市盈率**（P/E） = 股价 / EPS = 181.975 / 2.94 ≈ **61.9x**

> 注：该P/E为TTM（滚动市盈率），反映当前市场对NVIDIA盈利能力的定价。

#### 2. 市销率（P/S）
- **营业收入**（2025财年）：1,304.97 亿美元
- **市销率**（P/S） = 市值 / 收入 = 4438.15 / 1304.97 ≈ **3.40x**

#### 3. 市净率（P/B）
- **股东权益**（2025财年）：793.27 亿美元
- **市净率**（P/B） = 市值 / 股东权益 = 4438.15 / 793.27 ≈ **5.59x**

#### 4. 自由现金流收益率
- **经营性现金流**（2025财年）：640.89 亿美元
- **资本支出**（购建固定资产等）：32.36 亿美元
- **自由现金流**（FCF）≈ 640.89 - 3.236 = **637.65 亿美元**
- **自由现金流收益率** = FCF / 市值 = 637.65 / 4438.15 ≈ **14.37%**
- **企业价值/自由现金流**（EV/FCF）≈ 4438.15 / 637.65 ≈ **6.96x**

---

### 行业对比视角下的估值定位

| 公司 | P/E (估算) | P/S (估算) | 备注 |
|------|------------|------------|------|
| NVDA | ~62x       | ~3.4x      | AI芯片领导者，高增长驱动高估值 |
| AVGO | ~35x       | ~1.8x      | 半导体巨头，多元化布局 |
| AMD   | ~40x       | ~10x       | GPU/CPU双线竞争者，增速快但基数小 |
| MU    | ~20x       | ~4.5x      | 存储芯片周期性强 |
| QCOM | ~25x       | ~3.5x      | 移动通信主导，AI边缘计算拓展中 |

> 数据来源：公开财报及市场共识预测。NVIDIA在所有可比公司中处于最高估值梯队。

### 小结：估值结论
- NVIDIA目前的**市盈率高达62倍**，远超传统半导体公司平均水平（通常<30x）。
- **市销率3.4倍**虽低于部分成长型科技公司，但在其巨大营收规模下仍属高位。
- **自由现金流强劲**（637.65亿美元），支撑能力较强，EV/FCF仅7倍，显示其盈利质量极高。
- 综合来看，**估值显著偏高**，但并非完全脱离基本面——其超高盈利能力与行业地位提供了支撑。

---

## 2. 财务数据分析（基于2025财年年报）

### （1）利润表分析：爆发式增长与卓越盈利能力

| 指标 | 数值 | 同比变化趋势（近五年） |
|------|------|------------------------|
| 总收入 | 1,304.97 亿美元 | 从2021年的269亿 → 2025年的1305亿，**CAGR > 50%** |
| 毛利率 | 75.0%（= 978.58 / 1304.97） | 近三年稳定在75%以上，全球顶尖水平 |
| 营业利润率 | 62.4%（= 814.53 / 1304.97） | 显著高于行业平均（~20%-30%） |
| 净利润率 | 55.8%（= 728.8 / 1304.97） | 极端优秀，体现定价权和成本控制力 |

> 💡 **核心亮点**：
> - **毛利率连续多年维持在75%以上**，说明其产品具备极强的技术壁垒和议价能力。
> - **营业利润同比增长超过150%**（2024年为329.7亿 → 2025年814.5亿），远超收入增速，体现规模效应释放。
> - **研发投入占比仅9.9%**（129.14亿/1304.97亿），相比其他科技巨头（如Meta、Google常达15%+），效率极高。

### （2）资产负债表分析：稳健且健康的财务结构

| 类别 | 关键项目 | 数值 |
|-------|----------|------|
| **资产端** | 现金及等价物 + 可售证券 | 85.89 + 346.21 = **432.1 亿美元** |
|           | 应收账款 | 230.65 亿美元 |
|           | 存货 | 100.8 亿美元 |
|           | 总资产 | 1,116.01 亿美元 |
| **负债端** | 总负债 | 322.74 亿美元 |
|           | 长期债务 | 84.63 亿美元 |
|           | 流动负债 | 180.47 亿美元 |
| **股东权益** | 总股东权益 | 793.27 亿美元 |
|            | 资产负债率 | 322.74 / 1116.01 ≈ **28.9%** |

> ✅ **优势总结**：
> - **现金储备极其充裕**（超430亿美元），无短期偿债压力。
> - **低杠杆运营**，资产负债率不足30%，财务风险极低。
> - **零短期借款**，长期债务主要用于战略投资而非日常经营。

### （3）现金流量表分析：内生造血能力强

| 项目 | 数值 |
|------|------|
| 经营活动现金流 | 640.89 亿美元 |
| 投资活动现金流 | -204.21 亿美元 |
| 筹资活动现金流 | -423.59 亿美元 |
| 年度净现金流变动 | +13.09 亿美元 |

> 🔍 **解读**：
> - **经营现金流充沛**（640.89亿），是净利润的88%（728.8亿），表明盈利真实可靠。
> - 投资活动主要投向“购置财产设备”（32.36亿）、“收购业务”（10.07亿）以及“购买有价证券”（265.75亿），整体可控。
> - 筹资活动大额流出（-423.59亿）主因是**股票回购**（337.06亿）和**支付员工股权税负**（69.3亿），体现管理层回馈股东意 愿强烈。

---

## 3. 其他基本面分析角度

### （1）行业地位与护城河

- **AI芯片绝对领导者**：在全球AI训练芯片市场中占据**80%-90%份额**，尤其在数据中心GPU领域近乎垄断。
- **CUDA生态壁垒**：开发者已深度绑定NVIDIA平台，迁移成本极高，形成强大网络效应。
- **Blackwell架构领先**：最新Blackwell系列GPU性能较Hopper提升数倍，进一步拉开技术差距。
- **TSMC核心客户**：台积电最先进的制程优先供给NVIDIA，确保产能与良率优势。

### （2）近期动态与催化剂（来自新闻摘要）

- **DGX Spark发布**：推出个人级AI超级计算机，将AI开发门槛下沉至个体开发者，扩大生态系统边界。
- **Blackwell美国本土制造**：首块美国制造的Blackwell晶圆问世，符合地缘政治趋势，可能获得政策支持。
- **重大合作不断**：
  - OpenAI计划部署至少10GW的NVIDIA系统；
  - Google Cloud推出搭载Blackwell的新G4虚拟机；
  - 黑石、微软、英伟达联合签署**400亿美元AI基础设施协议**；
  - Nscale宣布采购约20万台GB300 GPU用于欧洲和美国AI基建。
- **中国市场进展**：尽管面临出口限制，但仍获准向阿联酋出口数十亿美元芯片，间接进入中东AI生态。

### （3）潜在风险点

| 风险类型 | 描述 |
|---------|------|
| **估值泡沫担忧** | 英国央行警告AI板块估值已达“互联网泡沫峰值”水平；多家媒体提及“AI泡沫” |
| **竞争加剧** | AMD、Marvell、Cerebras等挑战者涌现；同时Big Tech（Google、Amazon、Apple、Microsoft）均自研AI芯片 |
| **地缘政治风险** | 中美科技脱钩背景下，中国市场份额一度降至0%（黄仁勋语）；美国对华出口管制持续收紧 |
| **供应链依赖** | 高度依赖TSMC先进制程，若台海局势紧张或TSMC扩产不及预期，将影响交付能力 |

### （4）管理层与治理
- **Jensen Huang领导力被广泛认可**：被视为技术愿景家，带领公司穿越多个技术周期。
- **高管减持行为需关注**：近期有多位内部人士出售股票（SEC Form 4备案频繁），但多属预设交易计划（Rule 10b5-1），不必然 代表看空。
- **机构高度认可**：Jefferies重申“买入”，称“整个生态系统正在追赶NVIDIA”。

---

## 结论与投资建议

### 是否被高估？综合判断如下：

✅ **基本面极度强劲**：
- 收入突破1300亿美元，净利润超720亿美元，**盈利能力堪比苹果、微软级别**；
- 毛利率75%、净利率56%，**盈利能力居全球上市公司前列**；
- 自由现金流超637亿美元，**自我造血能力极强**；
- 资产负债表健康，**无任何流动性风险**。

⚠️ **估值明显溢价**：
- **62倍市盈率**意味着投资者对其未来增长抱有极高预期；
- 若AI资本开支放缓或技术迭代遇阻，股价回调压力大；
- 目前股价接近52周高点（195.62 vs 181.975），安全边际较低。

🔍 **增长可持续性评估**：
- 客户需求旺盛：OpenAI、Google、BlackRock等巨头持续加码采购；
- 生态扩张：从云厂商渗透到终端用户（DGX Spark）、制造业（ABB）、金融（Enbridge）、国防（无人机+AI）等多个领域；
- 技术代差保持领先：Blackwell之后已有B100/B200规划，研发节奏清晰。

---

## 📌 最终投资建议：**短期“合理偏高估”，长期仍具配置价值**

### 推荐评级：**持有 / 回调买入（Buy on Dips）**

### 理由如下：

1. **当前估值已充分反映乐观预期**  
   在62倍PE下，除非未来三年继续保持50%以上的复合增长率，否则难以支撑更高估值。因此**不宜追高**。

2. **基本盘稳固，增长动能未衰竭**  
   所有关键财务指标（收入、利润、现金流）均呈加速态势，且客户订单可见性强（如OpenAI百亿级投入）。**业绩支撑仍在强化** 。

3. **结构性机会大于周期性波动**  
   AI算力是新一轮工业革命的核心基础设施，NVIDIA作为“卖铲人”将持续受益于全球AI军备竞赛。即使短期情绪降温，长期趋势不可 逆。

4. **建议操作策略**：
   - **现有持仓者**：继续持有，无需恐慌抛售；
   - **观望者**：等待回调至**160美元以下**（对应P/E约54x）再分批建仓；
   - **目标价参考**：若2026年净利润达到1000亿美元，则以50x PE计算，理论市值可达**5万亿美元**，对应股价约**2000美元**（长期空间可观）。

---

### 风险提示
- 若美联储加息导致科技股整体估值压缩，或AI投资热度下降，可能导致大幅回调；
- 地缘冲突升级可能冲击TSMC供应链；
- Big Tech自研芯片进度超预期，侵蚀高端市场空间。

---

## 附录：核心财务数据速览（2025财年）

| 指标 | 数值 |
|------|------|
| 营业收入 | $1,304.97 亿 |
| 净利润 | $728.80 亿 |
| 每股收益（EPS diluted） | $2.94 |
| 毛利率 | 75.0% |
| 营业利润率 | 62.4% |
| 净利润率 | 55.8% |
| 经营现金流 | $640.89 亿 |
| 自由现金流 | ~$637.65 亿 |
| 现金及等价物 | $85.89 亿 |
| 可供出售证券 | $346.21 亿 |
| 总负债 | $322.74 亿 |
| 股东权益 | $793.27 亿 |
| 资产负债率 | 28.9% |
| 市盈率（P/E） | ~62x |
| 市销率（P/S） | ~3.4x |
| 市净率（P/B） | ~5.6x |

> 分析日期：2025年10月21日
> 数据来源：公司财报、SEC文件、财经媒体报道整合

---

📌 **一句话总结**：
**NVIDIA是一家财务表现卓越、行业地位无可撼动的AI时代“印钞机”，但当前股价已计入极高预期，属于“优质但贵”的典型代表。适合长期配置，但应避免追高。**

-----
-----
-----
### V1.1版本-2025年10月19日更新
#### 添加了日常在做基本面分析的时候可能会用到的一些数据指标
包括：
1. 公司概况get_company_profile()
2. 获取实时股票数据报价get_real_time_data()  PS:免费版有15-30分钟的延迟
3. 获取有关公司新闻get_company_news()  PS:免费版限制最近30天
4. 获取同行业其他公司列表get_company_peers()
5. 获取指定股票盈利日历(财报发布时间、实际业绩、市场预期数据以及对应季度和年份)get_earnings_calendar()  PS:这里可以指定比如说'NVDA'
6. 获取指定区间段发布财报的公司相关数据get_specific_time_period_earings_calendar()  PS：跟上面类似
7. 获取公司基本财务信息(比如PE、PS、52周最高/低价、流动比率、净利率、营收额) get_company_basic_financials()
8. 获取公司内部人士增/减持股票的相关信息get_stock_inside_transactions()
9. 获取公司内部人士情绪的相关信息get_stock_insider_sentiment()
10. 获取已报告的财务数据(包括财务报表) get_financials_reported()
11. 上市公司在SEC备案文件(一次不能超过250份)get_stock_filings()
目前我是通过定义获取函数的方式，并将得到的返回结果打印出来。

### V1.0版本——2025年10月18日正式开始
#### 如何从0开始创建一个项目
1. 首先在Github上点击【new】，首先给仓库起一个名字，注意Github会检测这个名字是否可用
2. 然后添加描述→选择仓库是公开or私人→是否添加README.md文件→是否添加.gitignore→是否添加License，这里会有一堆License让你选择，但一般选MIT或者Apache
3. 创建成功后，然后把仓库克隆到本地某个文件里，建议使用Git克隆到指定为止
4. 接下来可以使用VScode打开该项目，在【终端】创建venv虚拟环境，并激活。激活成功后，点开【终端】会发现前面带有一个(venv)。
5. 接着自己创建一个requirements.txt文件，用来记录项目依赖的第三方库清单，进而统一项目在不同环境中的依赖版本。
    格式为：库名==版本号#精确指定版本，比如pandas==2.1.5 库名>=最低版本 #允许高于某一个版 本，比如 Numpy>=1.26.3
6. 完成requirements.txt书写后，在【终端】执行 pip install -r requirements.txt。完成后，Python会按照清单中的库名和版本，自动下载并安装所有依赖。
7. 当你在整个项目里新增依赖的时候，使用pip freeze > requirements.txt，会将当前环境下所有已安装的第三方库及其版本写入文件中。执行后，打开requirements.txt也能看见所有依赖清单。

### 目前我准备先从基本面分析师Agent开始写
目前的项目流程图如下所示：
根目录
├── AI_Invest_Assistant
│   ├── Agents
│   │   └── fundamental_analyst.py
│   ├── web
│   │   └── streamlit.py
│   ├── .env
│   ├── .gitignore
│   ├── LICENSE
│   ├── main.py
│   ├── README.md
│   └── requirements.txt
└── venv